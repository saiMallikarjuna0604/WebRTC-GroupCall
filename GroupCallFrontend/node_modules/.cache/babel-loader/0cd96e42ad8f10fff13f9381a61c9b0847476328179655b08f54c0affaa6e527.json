{"ast":null,"code":"var _jsxFileName = \"/Users/instavc/Desktop/WebRTC/webrtc-group-calling/GroupCallFrontend/group-call-frontend/src/components/GroupsListPopover.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GroupsListPopover = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s(({\n  data,\n  onClose,\n  onAction,\n  currentUserEmail,\n  onGroupsRefresh\n}, ref) => {\n  _s();\n  const [userGroups, setUserGroups] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedGroupId, setExpandedGroupId] = useState(null);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [addModalGroup, setAddModalGroup] = useState(null);\n  const [allUsers, setAllUsers] = useState([]);\n  const [selectedToAdd, setSelectedToAdd] = useState([]);\n  useImperativeHandle(ref, () => ({\n    refreshGroups: fetchUserGroups\n  }));\n  useEffect(() => {\n    fetchUserGroups();\n  }, []);\n  async function fetchUserGroups() {\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/user/${currentUserEmail}`);\n      const data = await response.json();\n      setUserGroups(data.groups || []);\n      if (onGroupsRefresh) onGroupsRefresh();\n    } catch (error) {\n      console.error('Error fetching user groups:', error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Fetch all users for add modal\n  const fetchAllUsers = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/api/users/all');\n      const data = await response.json();\n      setAllUsers(data.users || []);\n    } catch (error) {\n      setAllUsers([]);\n    }\n  };\n  const openAddModal = group => {\n    setAddModalGroup(group);\n    setSelectedToAdd([]);\n    setShowAddModal(true);\n    fetchAllUsers();\n  };\n  const closeAddModal = () => {\n    setShowAddModal(false);\n    setAddModalGroup(null);\n    setSelectedToAdd([]);\n  };\n  const handleToggleUser = user => {\n    if (selectedToAdd.some(u => u.email === user.email)) {\n      setSelectedToAdd(selectedToAdd.filter(u => u.email !== user.email));\n    } else {\n      setSelectedToAdd([...selectedToAdd, user]);\n    }\n  };\n  const handleAcceptGroup = async groupId => {\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${groupId}/member`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          action: 'accept',\n          targetEmail: currentUserEmail,\n          actorEmail: currentUserEmail\n        })\n      });\n      if (response.ok) {\n        var _ref$current;\n        if (ref && typeof ((_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.refreshGroups) === 'function') ref.current.refreshGroups();\n      }\n    } catch (error) {}\n  };\n  const handleDeclineGroup = async groupId => {\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${groupId}/member`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          action: 'decline',\n          targetEmail: currentUserEmail,\n          actorEmail: currentUserEmail\n        })\n      });\n      if (response.ok) {\n        var _ref$current2;\n        if (ref && typeof ((_ref$current2 = ref.current) === null || _ref$current2 === void 0 ? void 0 : _ref$current2.refreshGroups) === 'function') ref.current.refreshGroups();\n      }\n    } catch (error) {}\n  };\n  const handleRemoveMember = async (groupId, memberEmail) => {\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${groupId}/member`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          action: 'remove',\n          targetEmail: memberEmail,\n          actorEmail: currentUserEmail\n        })\n      });\n      if (response.ok) {\n        var _ref$current3;\n        if (ref && typeof ((_ref$current3 = ref.current) === null || _ref$current3 === void 0 ? void 0 : _ref$current3.refreshGroups) === 'function') ref.current.refreshGroups();\n      }\n    } catch (error) {}\n  };\n  const handleAddMembers = async () => {\n    if (!addModalGroup || selectedToAdd.length === 0) return;\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${addModalGroup._id}/member`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          action: 'add',\n          actorEmail: currentUserEmail,\n          newMembers: selectedToAdd.map(u => u.email)\n        })\n      });\n      if (response.ok) {\n        var _ref$current4;\n        if (ref && typeof ((_ref$current4 = ref.current) === null || _ref$current4 === void 0 ? void 0 : _ref$current4.refreshGroups) === 'function') ref.current.refreshGroups();\n      }\n    } catch (error) {}\n    closeAddModal();\n  };\n  const handleDeleteGroup = async groupId => {\n    if (!window.confirm('Are you sure you want to delete this group?')) return;\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${groupId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          creatorEmail: currentUserEmail\n        })\n      });\n      if (response.ok) fetchUserGroups();\n    } catch (error) {\n      console.error('Error deleting group:', error);\n    }\n  };\n  const getMemberStatus = (group, memberEmail) => {\n    const member = group.members.find(m => m.email === memberEmail);\n    return member ? member.status : 'unknown';\n  };\n  const isGroupCreator = group => group.createdBy === currentUserEmail;\n  const isPendingMember = group => getMemberStatus(group, currentUserEmail) === 'pending';\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popover-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"My Groups\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading groups...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popover-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popover-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"My Groups\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close-button\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popover-body\",\n      children: userGroups.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No groups available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Create a new group to get started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: userGroups.map(group => {\n          const expanded = expandedGroupId === group._id;\n          const acceptedCount = group.members.filter(m => m.status === 'accepted').length;\n          const pendingCount = group.members.filter(m => m.status === 'pending').length;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `group-item${expanded ? ' expanded' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"group-summary\",\n              onClick: () => setExpandedGroupId(expanded ? null : group._id),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"group-name\",\n                  children: [group.name, isGroupCreator(group) && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"add-member-btn\",\n                    title: \"Add members\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      openAddModal(group);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: '1.2em',\n                        fontWeight: 600\n                      },\n                      children: \"\\uFF0B\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"group-members\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    title: \"Accepted\",\n                    children: [\"\\u2705 \", acceptedCount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    title: \"Pending\",\n                    style: {\n                      marginLeft: 8\n                    },\n                    children: [\"\\u23F3 \", pendingCount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      marginLeft: 8\n                    },\n                    children: [\"\\uD83D\\uDC65 \", group.members.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"expand-arrow\",\n                children: expanded ? '‚ñ≤' : '‚ñº'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 19\n            }, this), expanded && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"group-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-members-list\",\n                children: group.members.map(member => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"member-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"member-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"member-email\",\n                      children: member.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 31\n                    }, this), member.email === group.createdBy ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"group-member-status creator\",\n                      children: \"\\uD83D\\uDC51 Creator\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `group-member-status ${member.status}`,\n                      children: member.status === 'pending' ? '‚è≥ Pending' : '‚úÖ Accepted'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 29\n                  }, this), isGroupCreator(group) && member.email !== currentUserEmail && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"remove-member-button\",\n                    onClick: () => handleRemoveMember(group._id, member.email),\n                    title: \"Remove member\",\n                    children: \"\\u2715\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 31\n                  }, this)]\n                }, member.email, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-actions button-row\",\n                children: [isGroupCreator(group) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"start-call-button\",\n                    onClick: () => onAction('start-group-call', group),\n                    children: \"Start Call\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"delete-group-button\",\n                    onClick: () => handleDeleteGroup(group._id),\n                    children: \"Delete Group\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true), !isGroupCreator(group) && isPendingMember(group) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"accept-button\",\n                    onClick: () => handleAcceptGroup(group._id),\n                    children: \"Accept\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"decline-button\",\n                    onClick: () => handleDeclineGroup(group._id),\n                    children: \"Decline\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 21\n            }, this)]\n          }, group._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popover-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"cancel-button\",\n        onClick: onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-members-modal-overlay\",\n      onClick: closeAddModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-members-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-members-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Add Members to \", addModalGroup === null || addModalGroup === void 0 ? void 0 : addModalGroup.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-button\",\n            onClick: closeAddModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-members-list\",\n          children: allUsers.map(user => {\n            const alreadyInGroup = addModalGroup.members.some(m => m.email === user.email);\n            return /*#__PURE__*/_jsxDEV(\"label\", {\n              className: `add-member-item${alreadyInGroup ? ' disabled' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: alreadyInGroup || selectedToAdd.some(u => u.email === user.email),\n                disabled: alreadyInGroup,\n                onChange: () => handleToggleUser(user)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"add-member-email\",\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 21\n              }, this), alreadyInGroup && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"already-in-group\",\n                children: \"(Already in group)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 40\n              }, this)]\n            }, user.email, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-members-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-button\",\n            onClick: closeAddModal,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            onClick: handleAddMembers,\n            disabled: selectedToAdd.length === 0,\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}, \"cOT+eJj6Yav7v0uZKT8Ec4y98E4=\")), \"cOT+eJj6Yav7v0uZKT8Ec4y98E4=\");\n_c2 = GroupsListPopover;\nexport default GroupsListPopover;\nvar _c, _c2;\n$RefreshReg$(_c, \"GroupsListPopover$forwardRef\");\n$RefreshReg$(_c2, \"GroupsListPopover\");","map":{"version":3,"names":["React","useState","useEffect","useImperativeHandle","forwardRef","jsxDEV","_jsxDEV","Fragment","_Fragment","GroupsListPopover","_s","_c","data","onClose","onAction","currentUserEmail","onGroupsRefresh","ref","userGroups","setUserGroups","loading","setLoading","expandedGroupId","setExpandedGroupId","showAddModal","setShowAddModal","addModalGroup","setAddModalGroup","allUsers","setAllUsers","selectedToAdd","setSelectedToAdd","refreshGroups","fetchUserGroups","response","fetch","json","groups","error","console","fetchAllUsers","users","openAddModal","group","closeAddModal","handleToggleUser","user","some","u","email","filter","handleAcceptGroup","groupId","method","headers","body","JSON","stringify","action","targetEmail","actorEmail","ok","_ref$current","current","handleDeclineGroup","_ref$current2","handleRemoveMember","memberEmail","_ref$current3","handleAddMembers","length","_id","newMembers","map","_ref$current4","handleDeleteGroup","window","confirm","creatorEmail","getMemberStatus","member","members","find","m","status","isGroupCreator","createdBy","isPendingMember","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","expanded","acceptedCount","pendingCount","name","title","e","stopPropagation","style","fontSize","fontWeight","marginLeft","alreadyInGroup","type","checked","disabled","onChange","_c2","$RefreshReg$"],"sources":["/Users/instavc/Desktop/WebRTC/webrtc-group-calling/GroupCallFrontend/group-call-frontend/src/components/GroupsListPopover.js"],"sourcesContent":["import React, { useState, useEffect, useImperativeHandle, forwardRef } from 'react';\n\nconst GroupsListPopover = forwardRef(({ data, onClose, onAction, currentUserEmail, onGroupsRefresh }, ref) => {\n  const [userGroups, setUserGroups] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedGroupId, setExpandedGroupId] = useState(null);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [addModalGroup, setAddModalGroup] = useState(null);\n  const [allUsers, setAllUsers] = useState([]);\n  const [selectedToAdd, setSelectedToAdd] = useState([]);\n\n  useImperativeHandle(ref, () => ({\n    refreshGroups: fetchUserGroups\n  }));\n\n  useEffect(() => {\n    fetchUserGroups();\n  }, []);\n\n  async function fetchUserGroups() {\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/user/${currentUserEmail}`);\n      const data = await response.json();\n      setUserGroups(data.groups || []);\n      if (onGroupsRefresh) onGroupsRefresh();\n    } catch (error) {\n      console.error('Error fetching user groups:', error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Fetch all users for add modal\n  const fetchAllUsers = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/api/users/all');\n      const data = await response.json();\n      setAllUsers(data.users || []);\n    } catch (error) {\n      setAllUsers([]);\n    }\n  };\n\n  const openAddModal = (group) => {\n    setAddModalGroup(group);\n    setSelectedToAdd([]);\n    setShowAddModal(true);\n    fetchAllUsers();\n  };\n\n  const closeAddModal = () => {\n    setShowAddModal(false);\n    setAddModalGroup(null);\n    setSelectedToAdd([]);\n  };\n\n  const handleToggleUser = (user) => {\n    if (selectedToAdd.some(u => u.email === user.email)) {\n      setSelectedToAdd(selectedToAdd.filter(u => u.email !== user.email));\n    } else {\n      setSelectedToAdd([...selectedToAdd, user]);\n    }\n  };\n\n  const handleAcceptGroup = async (groupId) => {\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${groupId}/member`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'accept',\n          targetEmail: currentUserEmail,\n          actorEmail: currentUserEmail\n        })\n      });\n      if (response.ok) {\n        if (ref && typeof ref.current?.refreshGroups === 'function') ref.current.refreshGroups();\n      }\n    } catch (error) {}\n  };\n\n  const handleDeclineGroup = async (groupId) => {\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${groupId}/member`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'decline',\n          targetEmail: currentUserEmail,\n          actorEmail: currentUserEmail\n        })\n      });\n      if (response.ok) {\n        if (ref && typeof ref.current?.refreshGroups === 'function') ref.current.refreshGroups();\n      }\n    } catch (error) {}\n  };\n\n  const handleRemoveMember = async (groupId, memberEmail) => {\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${groupId}/member`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'remove',\n          targetEmail: memberEmail,\n          actorEmail: currentUserEmail\n        })\n      });\n      if (response.ok) {\n        if (ref && typeof ref.current?.refreshGroups === 'function') ref.current.refreshGroups();\n      }\n    } catch (error) {}\n  };\n\n  const handleAddMembers = async () => {\n    if (!addModalGroup || selectedToAdd.length === 0) return;\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${addModalGroup._id}/member`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'add',\n          actorEmail: currentUserEmail,\n          newMembers: selectedToAdd.map(u => u.email)\n        })\n      });\n      if (response.ok) {\n        if (ref && typeof ref.current?.refreshGroups === 'function') ref.current.refreshGroups();\n      }\n    } catch (error) {}\n    closeAddModal();\n  };\n\n  const handleDeleteGroup = async (groupId) => {\n    if (!window.confirm('Are you sure you want to delete this group?')) return;\n    try {\n      const response = await fetch(`http://localhost:3001/api/groups/${groupId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ creatorEmail: currentUserEmail })\n      });\n      if (response.ok) fetchUserGroups();\n    } catch (error) {\n      console.error('Error deleting group:', error);\n    }\n  };\n\n  const getMemberStatus = (group, memberEmail) => {\n    const member = group.members.find(m => m.email === memberEmail);\n    return member ? member.status : 'unknown';\n  };\n\n  const isGroupCreator = (group) => group.createdBy === currentUserEmail;\n  const isPendingMember = (group) => getMemberStatus(group, currentUserEmail) === 'pending';\n\n  if (loading) {\n    return (\n      <div className=\"popover-header\">\n        <h3>My Groups</h3>\n        <div className=\"loading\">Loading groups...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"popover-container\">\n      <div className=\"popover-header\">\n        <h3>My Groups</h3>\n        <button className=\"close-button\" onClick={onClose}>√ó</button>\n      </div>\n      <div className=\"popover-body\">\n        {userGroups.length === 0 ? (\n          <div className=\"empty-state\">\n            <p>No groups available</p>\n            <p>Create a new group to get started</p>\n          </div>\n        ) : (\n          <div className=\"\">\n            {userGroups.map((group) => {\n              const expanded = expandedGroupId === group._id;\n              const acceptedCount = group.members.filter(m => m.status === 'accepted').length;\n              const pendingCount = group.members.filter(m => m.status === 'pending').length;\n              return (\n                <div key={group._id} className={`group-item${expanded ? ' expanded' : ''}`}> \n                  <div className=\"group-summary\" onClick={() => setExpandedGroupId(expanded ? null : group._id)}>\n                    <div className=\"group-info\">\n                      <span className=\"group-name\">{group.name}\n                        {isGroupCreator(group) && (\n                          <button\n                            className=\"add-member-btn\"\n                            title=\"Add members\"\n                            onClick={e => { e.stopPropagation(); openAddModal(group); }}\n                          >\n                            <span style={{fontSize:'1.2em',fontWeight:600}}>Ôºã</span>\n                          </button>\n                        )}\n                      </span>\n                      <span className=\"group-members\">\n                        <span title=\"Accepted\">‚úÖ {acceptedCount}</span>\n                        <span title=\"Pending\" style={{marginLeft:8}}>‚è≥ {pendingCount}</span>\n                        <span style={{marginLeft:8}}>üë• {group.members.length}</span>\n                      </span>\n                    </div>\n                    <span className=\"expand-arrow\">{expanded ? '‚ñ≤' : '‚ñº'}</span>\n                  </div>\n                  {expanded && (\n                    <div className=\"group-details\">\n                      <div className=\"group-members-list\">\n                        {group.members.map((member) => (\n                          <div key={member.email} className=\"member-item\">\n                            <div className=\"member-info\">\n                              <span className=\"member-email\">{member.email}</span>\n                              {member.email === group.createdBy ? (\n                                <span className=\"group-member-status creator\">üëë Creator</span>\n                              ) : (\n                                <span className={`group-member-status ${member.status}`}>\n                                  {member.status === 'pending' ? '‚è≥ Pending' : '‚úÖ Accepted'}\n                                </span>\n                              )}\n                            </div>\n                            {isGroupCreator(group) && member.email !== currentUserEmail && (\n                              <button \n                                className=\"remove-member-button\"\n                                onClick={() => handleRemoveMember(group._id, member.email)}\n                                title=\"Remove member\"\n                              >\n                                ‚úï\n                              </button>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                      <div className=\"group-actions button-row\">\n                        {isGroupCreator(group) && (\n                          <>\n                            <button \n                              className=\"start-call-button\"\n                              onClick={() => onAction('start-group-call', group)}\n                            >\n                              Start Call\n                            </button>\n                            <button \n                              className=\"delete-group-button\"\n                              onClick={() => handleDeleteGroup(group._id)}\n                            >\n                              Delete Group\n                            </button>\n                          </>\n                        )}\n                        {!isGroupCreator(group) && isPendingMember(group) && (\n                          <>\n                            <button \n                              className=\"accept-button\"\n                              onClick={() => handleAcceptGroup(group._id)}\n                            >\n                              Accept\n                            </button>\n                            <button \n                              className=\"decline-button\"\n                              onClick={() => handleDeclineGroup(group._id)}\n                            >\n                              Decline\n                            </button>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n      <div className=\"popover-footer\">\n        <button className=\"cancel-button\" onClick={onClose}>Close</button>\n      </div>\n      {/* Add Members Modal */}\n      {showAddModal && (\n        <div className=\"add-members-modal-overlay\" onClick={closeAddModal}>\n          <div className=\"add-members-modal\" onClick={e => e.stopPropagation()}>\n            <div className=\"add-members-header\">\n              <h4>Add Members to {addModalGroup?.name}</h4>\n              <button className=\"close-button\" onClick={closeAddModal}>√ó</button>\n            </div>\n            <div className=\"add-members-list\">\n              {allUsers.map(user => {\n                const alreadyInGroup = addModalGroup.members.some(m => m.email === user.email);\n                return (\n                  <label key={user.email} className={`add-member-item${alreadyInGroup ? ' disabled' : ''}`}>\n                    <input\n                      type=\"checkbox\"\n                      checked={alreadyInGroup || selectedToAdd.some(u => u.email === user.email)}\n                      disabled={alreadyInGroup}\n                      onChange={() => handleToggleUser(user)}\n                    />\n                    <span className=\"add-member-email\">{user.email}</span>\n                    {alreadyInGroup && <span className=\"already-in-group\">(Already in group)</span>}\n                  </label>\n                );\n              })}\n            </div>\n            <div className=\"add-members-actions\">\n              <button className=\"cancel-button\" onClick={closeAddModal}>Cancel</button>\n              <button className=\"action-button\" onClick={handleAddMembers} disabled={selectedToAdd.length === 0}>Add</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default GroupsListPopover; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}